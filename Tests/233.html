<!doctype html>
<html class="no-js" lang="" xmlns="http://www.w3.org/1999/html">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Test</title>
    </head>
    <body>
        <script type="text/javascript">

            var ArrayofBasketItemsSKUcodes = [4, 6, 23];
            var HashedVisitorID = "9cb0cbcda88377b1e1d66e8d7f01cbae";
            var ChangoID = 123;
            var ProductNames = "Product^Name^s";
            var ProductUnitPrices = [123, 3, 234];
            var ProductUnitSalePrices = [34, 2, 45];
            var ProductSKUs = [4, 6, 23];
            var ProductCategoryCategories = "Product^Category^Categories";
            var PageTypeNameID = "PageType/Name/ID";
            var TrackBasketItems = false;
            var ArrayofBasketItemsNames = ["Array", "ofBasket", "Itemsnames"];


            var name = "" + ProductNames;
            if (name.indexOf('^') !== -1) {
              name = name.split('^');
            }

            var price = "" + ProductUnitPrices;
            if (price.indexOf('^') !== -1) {
              price = price.split('^');
              for (var i = 0; i < price.length; i++) {
                price[i] = Number(price[i]);
              }
            } else {
              price = Number(price);
            }

            var salePrice = "" + ProductUnitSalePrices;
            if (salePrice.indexOf('^') !== -1) {
              salePrice = salePrice.split('^');
              for (var i = 0; i < salePrice.length; i++) {
                salePrice[i] = Number(salePrice[i]);
              }
            } else {
              salePrice = Number(salePrice);
            }

            var sku = "" + ProductSKUs;
            if (sku.indexOf('^') !== -1) {
              sku = sku.split('^');
            }

            var cat = "" + ProductCategoryCategories;
            if (cat.indexOf('^') !== -1) {
              cat = cat.split('^');
            }

            window.__cho__ = {
              "data": {
                "pt": "" + PageTypeNameID,
                "na": name,
                "op": price,
                "sp": salePrice,
                "sku": sku,
                "pc": cat
              },
              "pid": "" + ChangoID,
              "puid2": "" + HashedVisitorID
            };

            if (TrackBasketItems) {
              var stringifiedArrayOfObjects = function(data) {
                var string = "";
                for (var obj in data) {
                  if (data.hasOwnProperty(obj)) {
                    for (var prop in data[obj]) {
                      if (data[obj].hasOwnProperty(prop)) {
                        string += "," + prop + ':' + data[obj][prop];
                      }
                    }
                  }
                }
                string = string.replace(/^,/, '');
                return encodeURI(string);
              };

              var basketItems = [];

              for (var i = 0; i < ArrayofBasketItemsSKUcodes.length; i++) {
                basketItems.push({
                  na: "" + ArrayofBasketItemsNames[i],
                  sku: "" + ArrayofBasketItemsSKUcodes[i]
                });
              }

              __cho__.data["crt"] = stringifiedArrayOfObjects(basketItems);
            }

            var script = document.createElement('script');
            script.type = 'text/javascript';
            script.async = true;
            script.src = document.location.protocol + '//cc.chango.com/static/o.js';
            document.head.appendChild(script);
        </script>

    </body>
</html>